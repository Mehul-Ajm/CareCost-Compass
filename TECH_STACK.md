# Backend Tech Stack & Analysis Overview

## Tech Stack

- **Language:** Python 3.9+
- **Framework:** Flask (WSGI)
- **Project Structure:**
  - `wsgi.py`: Entry point for WSGI servers
  - `app/`: Main application package
    - `__init__.py`: App factory and initialization
    - `config.py`: Configuration settings
    - `models.py`: Data models (ORM or custom)
    - `routes.py`: API endpoints
    - `services/`: Business logic and integrations
      - `ai.py`: AI/ML logic for estimates/analysis
      - `scrape.py`: Web scraping utilities

## How Important Data Is Obtained

1. **How Web Scraping Works:**
   - The `services/scrape.py` module searches the web (using DuckDuckGo) for cost estimates about cancer treatments, focusing on trusted sites like cancer.org, medicaid.gov, and nih.gov.
   - It extracts links from the search results for these sites, then visits each page and looks for dollar amounts (e.g., $5000) using regular expressions.
   - The script uses these numbers to estimate costs for treatments like chemo, radiation, and surgery, based on the lowest values it finds on those pages.

3. **API Integrations:**
   - Where available, the backend connects directly to third-party APIs for up-to-date and accurate information.
   - API keys and credentials are securely managed in environment variables and `config.py`.

4. **Data Validation & Cleaning:**
   - All incoming data is validated for completeness, accuracy, and consistency using custom logic in the backend.
   - Duplicate, outdated, or anomalous entries are filtered out before analysis.

5. **Regular Updates:**
   - Data collection routines are scheduled to run at regular intervals to ensure the system uses the latest available information.

## How Estimates & Analysis Are Made

1. **Data Collection:**
   - Data is gathered from various sources, possibly using the `scrape.py` service for web scraping.

2. **Data Processing:**
   - Raw data is cleaned and structured in the backend using custom logic in the `services/` directory.

3. **Estimation & Analysis:**
   - The `ai.py` service contains logic for generating cost estimates and performing analysis, possibly using machine learning or statistical methods.
   - Models and algorithms are applied to the processed data to generate insights.

4. **API Exposure:**
   - The backend exposes RESTful endpoints (in `routes.py`) for the frontend to fetch estimates and analysis results.

5. **Configuration & Deployment:**
   - All environment-specific settings are managed in `config.py`.
   - The app is served via WSGI (e.g., Gunicorn, uWSGI) using `wsgi.py`.

## Summary

The backend is a Python Flask application structured for scalability and maintainability, with dedicated modules for configuration, data models, API routes, and services (AI/ML and scraping). Estimates and analysis are generated by processing collected data through custom or AI-driven logic, then served to the frontend via API endpoints.
## Frontend Tech Stack

- **Framework:** Next.js (React)
- **Language:** TypeScript
- **Styling:** CSS Modules, PostCSS
- **UI Components:** Custom components in `src/components/`
- **State/Data:** Fetches data from backend REST API
- **Build Tools:** Bun (package manager), ESLint, TSConfig
- **Structure:**
  - `src/app/`: App pages and layouts
  - `src/components/`: UI and analysis components
  - `src/lib/`: Utilities and shared logic

The frontend is a modern Next.js (React) application using TypeScript, modular CSS, and custom components, consuming backend APIs for dynamic data and analysis.
